<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Página Web</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="ColaboradoresS.css">
</head>

<header class="py-3 mb-3 border-bottom bg-dark">
    <div class="container-fluid d-grid gap-3 align-items-center" style="grid-template-columns: 1fr 2fr;">
        <div class="dropdown">
            <a href="#"
                class="d-flex align-items-center col-lg-4 mb-2 mb-lg-0 link-dark text-decoration-none dropdown-toggle"
                id="dropdownNavLink" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="/imagenes/logo.jpeg" alt="Logo" width="150" height="50">
            </a>

            <ul class="dropdown-menu text-small shadow" aria-labelledby="dropdownNavLink">
                <li><a class="dropdown-item active" href="Colaboradores.html">Home</a></li>
                <li><a class="dropdown-item" href="gestor_de_inventario.html">Gestor de Inventario</a></li>
                <li><a class="dropdown-item" href="vehiculos_separados.html">Vehículos Separados</a></li>
                <li>
                    <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="arqueo_de_ventas.html">Arqueo de Ventas</a></li>
                <li><a class="dropdown-item" href="ranking_de_asesores.html">Ranking de Asesores</a></li>
                <li><a class="dropdown-item" href="promociones_y_ofertas.html">Promociones y Ofertas</a></li>
            </ul>

        </div>

        <div class="d-flex align-items-center">
            <form class="w-100 me-3">
                <input type="search" class="form-control" placeholder="Buscar..." aria-label="Search">
            </form>

            <div class="flex-shrink-0 dropdown">
                <a href="#" class="d-block link-dark text-decoration-none dropdown-toggle" id="dropdownUser2"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="https://github.com/mdo.png" alt="mdo" width="32" height="32" class="rounded-circle">
                </a>
                <ul class="dropdown-menu text-small shadow" aria-labelledby="dropdownUser2" style="">
                    <li><a class="dropdown-item" href="#">Nuevo proyecto...</a></li>
                    <li><a class="dropdown-item" href="#">Configuración</a></li>
                    <li><a class="dropdown-item" href="#">Perfil</a></li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item" href="#">Cerrar sesión</a></li>
                </ul>
            </div>
        </div>
    </div>
</header>

<body>
    <div id="content-gestor_de_inventario" class="section">
        <div class="container">
            <!-- Botones de acción -->
            <div class="row mb-3">
                <div class="col-md-4 border border-danger mb-4">
                    <h3>Autos</h3>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Modelo</th>
                                    <th scope="col">Color</th>
                                    <th scope="col">Precio</th>
                                </tr>
                            </thead>
                            <tbody id="tableVentaAutos">

                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="col-md-4 border border-danger mb-4">
                    <h3>Repuestos</h3>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Descripción</th>
                                    <th scope="col">Código</th>
                                    <th scope="col">Precio</th>
                                </tr>
                            </thead>
                            <tbody id="tableVentaRepuestos">

                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="col-md-4 border border-danger mb-4">
                    <h3>Servicios de Mantenimiento</h3>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Descripción</th>
                                    <th scope="col">Precio</th>
                                </tr>
                            </thead>
                            <tbody id="tableVentaServicio">

                            </tbody>
                        </table>

                    </div>
                </div>

            </div>

            <!-- Visualización de ventas y proyecciones -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <canvas id="chartVentas" width="400" height="300"></canvas>
                </div>
                <div class="col-md-6">
                    <canvas id="chartProyecciones" width="400" height="300"></canvas>
                </div>
            </div>

            <!-- Historial de acciones -->
            <div class="row">
                <div class="col-md-12">
                    <h3>Historial de Acciones</h3>
                    <ul class="list-group">
                        <li class="list-group-item">Acción 1 - 28/06/2024</li>
                        <li class="list-group-item">Acción 2 - 27/06/2024</li>
                        <li class="list-group-item">Acción 3 - 26/06/2024</li>
                        <!-- Puedes agregar más elementos al historial -->
                    </ul>
                </div>
            </div>
        </div>
    </div>


</body>




<!-- Script para los gráficos -->
<script>



    var ctxVentas = document.getElementById('chartVentas').getContext('2d');
    var chartVentas = new Chart(ctxVentas, {
        type: 'bar',
        data: {
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
            datasets: [{
                label: 'Ventas',
                data: [12, 19, 3, 5, 2, 3],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    var ctxProyecciones = document.getElementById('chartProyecciones').getContext('2d');
    var chartProyecciones = new Chart(ctxProyecciones, {
        type: 'line',
        data: {
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
            datasets: [{
                label: 'Proyecciones',
                data: [8, 12, 10, 15, 14, 18],
                backgroundColor: 'rgba(255, 206, 86, 0.2)',
                borderColor: 'rgba(255, 206, 86, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });



    document.addEventListener('DOMContentLoaded', function () {
        async function obtenerDatosVentaServicio() {
            try {
                const response = await fetch('arqueo_de_ventas.php');
                if (!response.ok) {
                    throw new Error('Error al obtener los datos: ' + response.statusText);
                }
                const data = await response.json();
                const ventasServicios = data.venta_servicio;

                const tableBody = document.getElementById('tableVentaServicio');
                tableBody.innerHTML = '';

                ventasServicios.forEach(row => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                    <td>${row.id}</td>
                    <td>${row.descripcion}</td>
                    <td>${row.precio}</td>
                `;
                    tableBody.appendChild(tr);
                });
            } catch (error) {
                console.error('Error al obtener los datos:', error);
            }
        }

        async function obtenerDatosVentaAutos() {
            try {
                const response = await fetch('arqueo_de_ventas.php');
                if (!response.ok) {
                    throw new Error('Error al obtener los datos: ' + response.statusText);
                }
                const data = await response.json();
                const ventasAutos = data.ventas_vehiculo;

                const tableBody = document.getElementById('tableVentaAutos');
                tableBody.innerHTML = '';

                ventasAutos.forEach(row => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                    <td>${row.id}</td>
                    <td>${row.modelo}</td>
                    <td>${row.color}</td>
                    <td>${row.precio}</td>
                `;
                    tableBody.appendChild(tr);
                });
            } catch (error) {
                console.error('Error al obtener los datos:', error);
            }
        }



        async function obtenerDatosVentasRepuestos() {
            try {
                const response = await fetch('arqueo_de_ventas.php');
                if (!response.ok) {
                    throw new Error('Error al obtener los datos: ' + response.statusText);
                }
                const data = await response.json();
                const ventasRepuestos = data.ventas_repuestos;

                const tableBody = document.getElementById('tableVentaRepuestos');
                tableBody.innerHTML = '';

                ventasRepuestos.forEach(row => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                <td>${row.id}</td>
                <td>${row.descripcion}</td>
                <td>${row.codigo}</td>
                <td>${row.precio}</td>
            `;
                    tableBody.appendChild(tr);
                });
            } catch (error) {
                console.error('Error al obtener los datos:', error);
            }
        }



        obtenerDatosVentasRepuestos()
        obtenerDatosVentaServicio();
        obtenerDatosVentaAutos();
    });





</script>

</html>